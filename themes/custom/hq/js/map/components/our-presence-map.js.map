{"version":3,"names":[],"mappings":"","sources":["components/our-presence-map.js"],"sourcesContent":["(function ($, _, Drupal) {\n  Drupal.behaviors.OurpresenceMap = {\n    attach: _.once(function (context, settings) {\n      $(document).ready(function() {\n        setTimeout(function()\n        {\n          $('.map-image').addClass('zoomOut');\n        }, 1000); // Delay of 1 second\n\n        setTimeout(function()\n        {\n          $('.map-image').addClass('add-label');\n        }, 3000);\n\n        setTimeout(function()\n        {\n          $('.map-image').addClass('remove-label');\n        }, 5000);\n\n        let currElement;\n        let element = $('.map-image #Black path[id^=\"yellow_\"], .map-image #Blue path[id^=\"yellow_\"], .map-image #Yellow path[id^=\"yellow_\"],.map-image #yellow');\n        element.hover(\n          function() {\n            currElement = $(this).siblings();\n            currElement.children().css('display', 'block');\n            currElement.appendTo(currElement.parents('.map-image svg>g'));\n          },\n          function() {\n            currElement.appendTo($(this).parent());\n            currElement.children().css('display', 'none');\n          }\n        );\n\n        element.click(function() {\n          // const dialogType = $(this).data('dialog-type');\n          const id = $(this).parent().parent().attr('id');\n          const lang = $('html').attr('lang');\n          const hrefValue = \"/\" + lang + \"/location-detail/\" + id;\n      \n          var ajaxSettings = {\n            url: hrefValue,\n            dialogType: 'modal',\n            dialog: { \n              width: '704',\n              height: '325',\n              dialogClass: 'contact-class map-modal',\n            },\n          };\n          var myAjaxObject = Drupal.ajax(ajaxSettings);\n          myAjaxObject.execute();\n        });\n\n        if($('.map-image').length) {\n          $(document).on('mousedown', function(event) {\n            // Check if the clicked element is the .ui-widget-overlay\n            if ($(event.target).closest('.ui-widget-overlay').length) {\n              // You can close the modal or perform other actions here\n              $('.ui-dialog-content').dialog('close');  // Example: close the dialog if it's a modal\n              $('body').removeClass('body-fixed');\n            }\n          });\n          \n          $(document).ajaxComplete(function () {\n            // Check if the modal with class 'ui-dialog' is present in the DOM\n            if ($('.ui-dialog.contact-class', context).length > 0) {\n              // Add 'body-fixed' class to the body when the modal appears\n              $('body').addClass('body-fixed');\n              document.getElementById(\"ui-dialog-title\").scrollIntoView();\n              setTimeout(() => {\n                const closeButton = document.getElementsByClassName(\"ui-dialog-titlebar-close\");\n                closeButton[0].blur();\n              }, 100);\n            }\n    \n            // Optionally, listen for the close button in the modal to remove the fixed class\n            $('.ui-dialog-titlebar-close').on('click', function() {\n              $('body').removeClass('body-fixed');\n            });\n          });\n        }\n      });     \n    })\n  };\n})(jQuery, _, Drupal);\n"],"file":"../../components/our-presence-map.js"}