{"version":3,"names":[],"mappings":"","sources":["components/worldwide-listing.js"],"sourcesContent":["(function($, _, Drupal) {\n  Drupal.behaviors.worldwideListing = {\n    attach: _.once(function(context) {\n      let resizeId;\n\n      function showListing(id) {\n        const worldwideListing = $('.worldwide-listing__content');\n        worldwideListing.removeClass('show');\n        worldwideListing.find(`#${id}`).closest('.m-listing').addClass('show');\n      }\n\n      function initShowListing() {\n        if (window.innerWidth <= 767) {\n          const worldwideList = $('.worldwide-listing__select-box select');\n          const listingSelect = worldwideList.select2();\n          listingSelect.on('change', function(e) {\n            let tmpData = worldwideList.select2('data');\n            showListing(tmpData[0].id);\n          });\n\n          listingSelect.data('select2').$dropdown.addClass('worldwide-listing__select-dropdown');\n          let tmpData = listingSelect.select2('data');\n          showListing(tmpData[0].id);\n        }\n      }\n\n      initShowListing();\n\n      $(window).resize(() => {\n        clearTimeout(resizeId);\n        resizeId = setTimeout(() => {\n          initShowListing();\n        }, 100);\n      });\n\n    })\n  };\n})(jQuery, _, Drupal);\n\n\n(function (Drupal) {\n  Drupal.behaviors.worldwideListing = {\n    attach: (function () {\n      let resizeId; // Variable to store the timeout ID for resize event throttling\n\n      /**\n       * Function to display the selected listing content.\n       * @param {string} id - The ID of the listing content to be shown.\n       */\n      function showListing(id) {\n        // Remove 'show' class from all listing content sections\n        document.querySelectorAll('.worldwide-listing__content').forEach(content => {\n          content.classList.remove('show');\n        });\n\n        // Find the element with the given ID and ensure its parent .worldwide-listing__content is shown\n        const targetElement = document.getElementById(id);\n        if (targetElement) {\n          targetElement.closest('.worldwide-listing__content').classList.add('show');\n        }\n      }\n\n      /**\n       * Initializes the listing dropdown and handles selection changes.\n       */\n      function initShowListing() {\n        // Apply logic only if the screen width is 767px or less (mobile view)\n        if (window.innerWidth <= 767) {\n          const selectBox = document.querySelector('.worldwide-listing__select-box select');\n          if (!selectBox) return; // Exit if the select box is not found\n\n          // Event listener for when a new option is selected\n          selectBox.addEventListener('change', function () {\n            const selectedOption = selectBox.options[selectBox.selectedIndex];\n            if (selectedOption) {\n              showListing(selectedOption.value);\n            }\n          });\n\n          // Show the initially selected listing on page load\n          const initialSelectedOption = selectBox.options[selectBox.selectedIndex];\n          if (initialSelectedOption) {\n            showListing(initialSelectedOption.value);\n          }\n        }\n      }\n\n      // Run the listing initialization function on page load\n      initShowListing();\n\n      /**\n       * Handles window resize event to reinitialize the listing dropdown when needed.\n       */\n      window.addEventListener('resize', () => {\n        clearTimeout(resizeId); // Clear the previous timeout to prevent excessive function calls\n        resizeId = setTimeout(() => {\n          initShowListing(); // Reinitialize the listing on resize after a short delay\n        }, 100);\n      });\n\n    })()\n  };\n})(Drupal);\n"],"file":"../../components/worldwide-listing.js"}