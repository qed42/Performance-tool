{"version":3,"file":"../../components/globalCardsCarousel.min.js","names":["$","_","Drupal","behaviors","globalCardsCarousel","attach","context","activeTabSlider","target","currentSwiper","find","itemsPerView","text","trim","tabSwiperCards","activeTabText","toLowerCase","addClass","closest","Swiper","on","slideChange","length","currentSlider","defaultWrapper","defaultWrapperHeight","each","i","imageHeight","this","height","css","setsliderdefaultheight","slidesPerView","spaceBetween","slidesPerGroup","freeMode","simulateTouch","grabCursor","breakpoints","navigation","nextEl","prevEl","scrollbar","el","draggable","window","update","activeCardSlider","index","element","globalSwiperCards","hasClass","remove","jQuery"],"sources":["components/globalCardsCarousel.js"],"mappings":"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","ignoreList":[],"sourcesContent":["(function($, _, Drupal) {\n  Drupal.behaviors.globalCardsCarousel = {\n    attach: function(context) {\n\n      function setsliderdefaultheight(currentSlider) {\n        let defaultWrapper = currentSlider.find('.global-card__wrapper.default.vm');\n        let defaultWrapperHeight = 0;\n        let hqSlides = currentSlider.find('.swiper-wrapper .swiper-slide');\n        hqSlides.each(function(i) {\n          let image = $(this).find('.global-card__image');\n          let imageHeight = image.height();\n          if (imageHeight > defaultWrapperHeight) {\n            defaultWrapperHeight = imageHeight;\n          }\n        });\n        defaultWrapper.css('height', defaultWrapperHeight + 'px');\n      }\n\n      if ($('.quicktabs-wrapper').length > 0) {\n        $('li[id^=\"quicktabs-tab-latest_resources_by_type_tabs-\"] a').on('click', function() {\n          activeCardSlider();\n        });\n      }\n\n      function activeTabSlider(target) {\n        const currentSwiper = target.find('.swiper-container');\n        let itemsPerView = target.find('.card-carousel-items').text().trim();\n        let tabSwiperCards = [];\n        let activeTabText = $('.quicktabs-tabs').find('li.active a').text().toLowerCase();\n        target.addClass('card-carousel-init');\n        currentSwiper.addClass('cards-' + activeTabText);\n        currentSwiper.closest('.cards_container').find('.swiper-button-prev').addClass('tab-card-button-prevCard-' + activeTabText);\n        currentSwiper.closest('.cards_container').find('.swiper-button-next').addClass('tab-card-button-nextCard-' + activeTabText);\n        currentSwiper.closest('.cards_container').find('.swiper-scrollbar').addClass('tab-swiper-scrollbar');\n        tabSwiperCards[activeTabText] = new Swiper('.cards-' + activeTabText, {\n          on: {\n            slideChange: function() {\n              if (target.closest('.quicktabs-tabpage').length) {\n                setsliderdefaultheight(target);\n              }\n            }\n          },\n          slidesPerView: 4,\n          spaceBetween: 32,\n          slidesPerGroup: 1,\n          freeMode: true,\n          simulateTouch: true,\n          grabCursor: true,\n          breakpoints: {\n            10: {\n              slidesPerView: (itemsPerView < 2) ? 1 : 1.33,\n            },\n            576: {\n              slidesPerView: (itemsPerView < 3) ? 2 : 2.33,\n            },\n            768: {\n              slidesPerView: (itemsPerView < 4) ? 3 : 3.33,\n            },\n            1024: {\n              slidesPerView: (itemsPerView < 5) ? 4 : 4.33,\n            }\n          },\n          navigation: {\n            nextEl: '.tab-card-button-nextCard-' + activeTabText,\n            prevEl: '.tab-card-button-prevCard-' + activeTabText\n          },\n          scrollbar: {\n            el: '.tab-swiper-scrollbar',\n            draggable: true\n          }\n        });\n        $(window).on('resize', function() {\n          tabSwiperCards[activeTabText].update();\n        });\n      }\n\n      function activeCardSlider() {\n        if ($('.hq-carousel-global-card:visible').length > 0) {\n          $('.hq-carousel-global-card:visible').each(function(index, element) {\n            let target = $(this);\n            const currentSwiper = target.find('.swiper-container');\n            let itemsPerView = target.find('.card-carousel-items').text().trim();\n            let globalSwiperCards = [];\n            \n            if (target.hasClass('card-carousel-init')) {\n              return;\n            } else if(target.closest('.quicktabs-main').length) {\n              activeTabSlider(target);\n            } else {\n              if (target.closest('.quicktabs-tabpage').length <= 0) {\n                target.find('.global-card__wrapper.default.vm').closest('.views-row').remove();\n              }\n              target.addClass('card-carousel-init');\n              currentSwiper.addClass('cards-' + index);\n              currentSwiper.closest('.cards_container').find('.swiper-button-prev').addClass('card-button-prevCard-' + index);\n              currentSwiper.closest('.cards_container').find('.swiper-button-next').addClass('card-button-nextCard-' + index);\n              currentSwiper.closest('.cards_container').find('.swiper-scrollbar').addClass('card-swiper-scrollbar');\n              globalSwiperCards[index] = new Swiper('.cards-' + index, {\n                slidesPerView: 4,\n                spaceBetween: 32,\n                slidesPerGroup: 1,\n                freeMode: true,\n                simulateTouch: true,\n                grabCursor: true,\n                breakpoints: {\n                  10: {\n                    slidesPerView: (itemsPerView < 2) ? 1 : 1.33,\n                  },\n                  576: {\n                    slidesPerView: (itemsPerView < 3) ? 2 : 2.33,\n                  },\n                  768: {\n                    slidesPerView: (itemsPerView < 4) ? 3 : 3.33,\n                  },\n                  1024: {\n                    slidesPerView: (itemsPerView < 5) ? 4 : 4.33,\n                  }\n                },\n                navigation: {\n                  nextEl: '.card-button-nextCard-' + index,\n                  prevEl: '.card-button-prevCard-' + index\n                },\n                scrollbar: {\n                  el: '.card-swiper-scrollbar',\n                  draggable: true\n                }\n              });\n              $(window).on('resize', function() {\n                globalSwiperCards[index].update();\n              });\n            }\n          });\n        } // end if\n      } // end active card slider\n\n      activeCardSlider();\n    }\n  };\n})(jQuery, _, Drupal);\n"]}