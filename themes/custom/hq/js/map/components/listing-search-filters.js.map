{"version":3,"names":[],"mappings":"","sources":["components/listing-search-filters.js"],"sourcesContent":["(function ($, _, Drupal) {\n  Drupal.behaviors.listingsearchFilters = {\n    attach: function (context, settings) {\n      const facetClearBtn = document.getElementsByClassName('facets-reset-button');\n        if (facetClearBtn != null && facetClearBtn.length && !facetClearBtn[0].classList.contains('processed')) {\n          facetClearBtn[0].classList.add('processed');\n\n          function clearSearch(e) {\n            // Prevent the default behavior of the link\n            e.preventDefault();\n            e.stopPropagation();\n\n            // Clear search input\n            document.querySelector('.kp-filter-block .js-form-item input').value= '';\n            window.location.reload(true);\n            window.location.href = e.target.getAttribute('href');\n          }\n          \n          const facets = document.getElementsByClassName('facet-inactive');\n          const wrapperDiv = document.querySelector('.kp-filter-block');\n          const currentCount = facets.length;\n          const placeholderWrapper = document.getElementsByClassName('ph-wrapper');\n          const facetForm = wrapperDiv.getElementsByTagName(\"form\");\n\n          if (currentCount > 0) {\n            for (let i = 0; i <= currentCount; i++) {\n              if (i >= currentCount) {\n                wrapperDiv.append(facetClearBtn[0]);\n                placeholderWrapper[0].remove();\n                facetForm[0].style.opacity = 1;\n              } else {\n                wrapperDiv.append(facets[i]);\n              }\n            }\n          }\n          \n          document.querySelector('.kp-filter-block .facets-reset-link').addEventListener(\"click\", clearSearch);\n        }\n    }\n  };\n})(jQuery, _, Drupal);\n"],"file":"../../components/listing-search-filters.js"}