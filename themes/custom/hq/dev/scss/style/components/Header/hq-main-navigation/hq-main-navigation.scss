@import "../../../../../../node_modules/bootstrap/scss/functions";
@import "../../../../../../node_modules/bootstrap/scss/mixins";
@import "../../../../custom";
@import "../../../../bootstrap-override/mixins";
@import "../../../../mixins";

.hq-main-menu {
  display: flex;
  list-style: none;
  margin: 0 10px 0 0;
  padding: 0;

  @include media-breakpoint-down(md) {
    flex-direction: column;
  }

  &.menu-level-0 {
    @include media-breakpoint-down(md) {
      margin: 0;
    }

    & > .menu-item {
      & > .nav-link {
        position: relative;
        border-bottom: 3px solid $white;
        line-height: 78px;

        @include media-breakpoint-down(md) {
          display: flex;
          width: 100%;
          justify-content: space-between;
        }

        &:hover,
        &:focus,
        &:focus-within {
          @include media-breakpoint-up(lg) {
            border-color: $blue;
          }
        }
      }

      &.show {
        & > .nav-link {
          color: $blue;

          @include media-breakpoint-up(lg) {
            border-color: $blue;
          }
        }
      }
    }
  }

  .nav {
    &-item {
      position: static;
      display: flex;
      align-items: center;
      padding-inline: 18px;

      @media (min-width: 1180px) and (max-width: 1280px) {
        padding-inline: 15px;
      }

      @include media-breakpoint-down(md) {
        padding-inline: 0;
        flex-direction: column;
      }

      &.show {
        .dropdown-toggle {
          color: $blue;
          
          @include media-breakpoint-up(lg) {
            border-color: $blue;
          }

          &::after {
            background-image: url("data:image/svg+xml,%0A%3Csvg width='20' height='21' viewBox='0 0 20 21' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg id='baseIcons'%3E%3Cpath id='Icon' d='M5 8L10 13L15 8' stroke='%230397d6' stroke-width='1.4' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/g%3E%3C/svg%3E%0A");
            transform: rotate(180deg);
          }
        }
      }
    }

    &-link {
      @include typography-body-menu;
      display: block;
      padding: 0;
      color: $brown;
      font-weight: 500;
      letter-spacing: 0.5px;

      &:hover,
      &:focus {
        color: $blue;
      }

      &.dropdown-toggle {
        display: flex;
        align-items: center;

        @include media-breakpoint-down(md) {
          justify-content: space-between;
          align-items: center;
        }

        &::after {
          display: none;

          @include media-breakpoint-down(md) {
            display: block;
            width: 28px;
            height: 28px;
            background-size: 28px;
            background-image: url("data:image/svg+xml,%0A%3Csvg width='20' height='21' viewBox='0 0 20 21' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg id='baseIcons'%3E%3Cpath id='Icon' d='M5 8L10 13L15 8' stroke='%234B4B4B' stroke-width='1.4' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/g%3E%3C/svg%3E%0A");
            border: 0;
          }
        }

        &:hover,
        &:focus {
          &::after {
            background-image: url("data:image/svg+xml,%0A%3Csvg width='20' height='21' viewBox='0 0 20 21' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg id='baseIcons'%3E%3Cpath id='Icon' d='M5 8L10 13L15 8' stroke='%230397d6' stroke-width='1.4' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/g%3E%3C/svg%3E%0A");
          }
        }
      } 
    }
  }

  .dropdown-menu {
    &.show {
      left: 0 !important; // to override inline css use import here
      right: 0 !important; // to override inline css use import here
      top: 98% !important; // to override inline css use import here
      transform: none !important; // to override inline css use import here
      background-color: $white;
      border: 0;
      border-radius: 0;
      padding-block: 45px;
      margin-top: 3px;

      @include media-breakpoint-down(md) {
        position: relative !important; // to override inline css use import here
        padding-block: 0;
        box-shadow: none;
        width: 100%;
      }
    }
  }

  ul.menu {
    margin: 0;
    padding: 0;
    list-style: none;

    .menu_link_content {
      padding: 0;
    }

    .nav-link {
      &:hover,
      &:focus {
        color: $blue;
      }

      span.no-link {
        font-weight: 600;
        cursor: default;
        color: $brown;

        @include media-breakpoint-up(lg) {
          display: block;
        }

        &:hover,
        &:focus {
          color: $brown;
        }
      }
    }

    &.menu-level-1 {
      @include make-row();

      @include media-breakpoint-down(md) {
        gap: 30px;
      }

      & > .menu-item {
        @include make-col-ready();
        @include make-col(12);

        overflow: hidden;

        @include media-breakpoint-up(lg) {
          @include make-col(3);
        }

        @include media-breakpoint-down(md) {
          padding: 0;
        }

        & > .nav-link {
          display: block;
          margin-bottom: 20px;
        }
      }
    }

    &.menu-level-2 {
      display: flex;
      flex-direction: column;
      gap: 10px;

      .nav-link {
        font-weight: 400;
      }
    }
  }
}

.region-navbar {
  nav {
    @include media-breakpoint-up(lg) {
      position: static;
    }

    @include media-breakpoint-down(md) {
      order: 2;
      width: 100%;
      margin-bottom: 30px;
    }

    .block-wrapper {
      position: relative;
    }
  }
}

.menu-item__image {
  @include media-breakpoint-down(md) {
    display: none;
  }

  .image-container {
    margin-bottom: 20px;
  }
}

header {
  &.header--main-menu {
    .nav-wrapper {
      @include media-breakpoint-up(lg) {
        max-width: $max-width-xl;
      }

      @include media-breakpoint-down(md) {
        max-width: 100%;
      }
    }
  }
}


#toolbar-administration {
  @media (max-width: 975px) { // due to default durpal changes we need this break point
    height: 40px;
  }
}

.search + .contextual-region {
  position: relative;
}
